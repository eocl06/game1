<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect"/>
    <link as="style" href="https://fonts.googleapis.com/css2?display=swap&family=Lexend%3Awght%40400%3B500%3B600%3B700%3B800%3B900&family=Noto+Sans%3Awght%40400%3B500%3B700%3B900" onload="this.rel='stylesheet'" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet"/>
    <title>NewsSwipe - Haber Doğrula</title>
    <link href="data:image/x-icon;base64," rel="icon" type="image/x-icon"/>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <style>
        /* ... (CSS stilleri öncekiyle aynı kalacak) ... */
        .material-icons, .material-icons-outlined { font-size: 28px; vertical-align: middle; }
        .material-symbols-outlined { font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24; font-size: 24px; vertical-align: middle; }
        .btn-primary { background-color: #3B82F6; color: white; }
        .btn-secondary { background-color: #E5E7EB; color: #1F2937; }
        .lexend-font { font-family: 'Lexend', "Noto Sans", sans-serif; }
        .card-gradient { background-image: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.6) 70%, rgba(0, 0, 0, 0.8) 100%); }
        .primary-color-text { color: #0c7ff2; } 
        .primary-color-bg { background-color: #0c7ff2; } 
        .fake-news-button { background-color: #FF3B30; }
        .real-news-button { background-color: #34C759; }
        .news-button-disabled { opacity: 0.6; pointer-events: none; }
        .correct-feedback { background-color: #EBF9F0; border-left: 4px solid #34D399; }
        .incorrect-feedback { background-color: #FEE2E2; border-left: 4px solid #F87171; }
        .status-icon-correct { color: #34D399; }
        .status-icon-incorrect { color: #F87171; }
        .timeup-icon { color: #F59E0B; }
        .main-screen-view { opacity: 1; transform: translateY(0); transition: opacity 0.3s ease-out, transform 0.3s ease-out; }
        .main-screen-view.hidden { opacity: 0 !important; transform: translateY(15px) !important; pointer-events: none; }
        .nav-item-active span:first-child { color: #0b80ee; transform: scale(1.1); transition: transform 0.2s ease-in-out; }
        .nav-item-active span:last-child { color: #0b80ee; font-weight: 600; }
        .btn-animated { transition: transform 0.1s ease-in-out, background-color 0.1s; }
        .btn-animated:active { transform: scale(0.96); }
        .feedback-content-appear { animation: scaleUpSpring 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        @keyframes scaleUpSpring { from { opacity: 0; transform: scale(0.7); } to { opacity: 1; transform: scale(1); } }
        .timer-pulse { animation: pulseTimerWarn 1s infinite ease-in-out; }
        @keyframes pulseTimerWarn { 0%, 100% { transform: scale(1); color: inherit; } 50% { transform: scale(1.15); color: #ef4444; } }
    </style>
</head>
<body class="bg-slate-50 lexend-font">
    <div id="appRoot" class="relative flex size-full min-h-screen flex-col group/design-root overflow-x-hidden">

        <div id="homeScreen" class="main-screen-view flex flex-col min-h-screen">
            <header id="homeHeader" class="bg-white shadow-sm sticky top-0 z-20">
                <div class="container mx-auto px-4 py-3 flex items-center justify-between">
                    <div class="w-10"></div> 
                    <h1 class="text-xl font-bold text-slate-800 text-center">NewsSwipe</h1>
                    <button class="flex items-center justify-center rounded-full h-10 w-10 text-slate-600 hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 btn-animated">
                        <span class="material-icons">settings</span>
                    </button>
                </div>
            </header>
            <main id="homeMain" class="flex-grow container mx-auto px-6 py-8 text-center">
                <div class="max-w-md mx-auto">
                    <img alt="NewsSwipe Uygulama İkonu" class="w-24 h-24 mx-auto mb-6 rounded-2xl shadow-lg" src="https://lh3.googleusercontent.com/aida-public/AB6AXuA-fyUmZiKE_nHNvrPBkaFU8b7xUACLQqHF6tcg8JvnK5Q6c6jPl3YmzTHiKo_1obIExV7JX4I7-RwqTrwTlDjr3jOk6evMGA_LsZZJqffZTDzErZ_HID38KBy94n4llusld-zy1HQGA6Vh60LEgx5n42La1umYxi6ix0kaC2sMngn_puvstBZscr-hOff8pSDIQZ6mr68JnYKwqbxfEF-BKh-Ra7riGUwcTQ9ACW7YYGk29y9OHCMUBDyMu4TRx8h8D9O5pafdDLfV"/>
                    <h2 class="text-3xl sm:text-4xl font-bold text-slate-800 mb-3">NewsSwipe'a Hoş Geldiniz!</h2>
                    <p class="text-lg sm:text-xl text-slate-600 mb-10">Haber okuryazarlığınızı test edin. Sahte mi gerçek mi, karar verin.</p>
                    <div class="space-y-4">
                        <button id="playNowBtn" class="btn-primary btn-animated w-full flex items-center justify-center rounded-xl h-14 px-6 text-lg font-semibold shadow-md hover:bg-blue-700 transition-colors duration-150">
                            <span class="material-icons mr-2">play_arrow</span>Hemen Oyna
                        </button>
                        <button id="leaderboardBtnHome" class="btn-secondary btn-animated w-full flex items-center justify-center rounded-xl h-14 px-6 text-lg font-semibold shadow-sm hover:bg-slate-200 transition-colors duration-150">
                            <span class="material-icons mr-2">leaderboard</span>Skorları Gör
                        </button>
                        <button id="howToPlayBtn" class="btn-secondary btn-animated w-full flex items-center justify-center rounded-xl h-14 px-6 text-lg font-semibold shadow-sm hover:bg-slate-200 transition-colors duration-150">
                            <span class="material-icons mr-2">help_outline</span>Nasıl Oynanır?
                        </button>
                    </div>
                </div>
            </main>
            <footer id="homeFooter" class="bg-white border-t border-slate-200 sticky bottom-0 z-20">
                <nav class="container mx-auto px-4 h-16 flex justify-around items-center">
                    <a id="homeNavHome" href="#" class="flex flex-col items-center justify-center text-slate-500 hover:text-blue-600 transition-colors duration-150 p-2 rounded-lg">
                        <span class="material-icons">home</span><span class="text-xs font-medium">Ana Sayfa</span>
                    </a>
                    <a id="homeNavScores" href="#" class="flex flex-col items-center justify-center text-slate-500 hover:text-blue-600 transition-colors duration-150 p-2 rounded-lg">
                        <span class="material-icons">bar_chart</span><span class="text-xs font-medium">Skorlar</span>
                    </a>
                    <a id="homeNavProfile" href="#" class="flex flex-col items-center justify-center text-slate-500 hover:text-blue-600 transition-colors duration-150 p-2 rounded-lg">
                        <span class="material-icons">person_outline</span><span class="text-xs font-medium">Profil</span>
                    </a>
                </nav>
            </footer>
        </div>

        <div id="gameScreen" class="main-screen-view hidden flex-col min-h-screen">
            <div class="relative flex size-full flex-col bg-white group/design-root overflow-x-hidden lexend-font">
                <header class="sticky top-0 z-10 bg-white shadow-sm">
                    <div class="flex items-center p-4 pb-3">
                        <button id="closeGameBtn" class="text-gray-700 flex size-10 shrink-0 items-center justify-center rounded-full hover:bg-gray-100 btn-animated">
                            <span class="material-icons-outlined">close</span>
                        </button>
                        <h1 class="text-gray-900 text-xl font-semibold leading-tight tracking-tight flex-1 text-center pr-10">Haber Doğrulama</h1>
                    </div>
                    <div class="px-4 pb-3">
                        <div class="flex items-center justify-between mb-1.5">
                            <p class="text-gray-700 text-sm font-medium">Soru <span id="currentQuestionDisplay" class="font-bold text-gray-900">1</span>/<span id="totalQuestionsDisplay">4</span></p>
                            <div class="flex items-center gap-3">
                                <p class="text-gray-700 text-sm font-medium">Skor: <span id="scoreDisplay" class="font-bold text-gray-900">0</span></p>
                                <p class="text-gray-700 text-sm font-medium">Seri: <span id="streakCounter" class="font-bold text-gray-900">0</span> 🔥</p>
                            </div>
                        </div>
                        <div class="h-2.5 rounded-full bg-gray-200">
                            <div id="progressBar" class="h-2.5 rounded-full primary-color-bg transition-all duration-300 ease-out" style="width: 0%;"></div>
                        </div>
                    </div>
                </header>
                <main class="flex-1 overflow-y-auto p-4 space-y-6">
                    <div class="flex gap-3 justify-center">
                        <div class="flex flex-col items-center gap-1.5">
                            <div class="flex h-12 w-12 sm:h-16 sm:w-16 items-center justify-center rounded-lg bg-gray-100 shadow-inner">
                                <p id="timerMinutes" class="text-gray-900 text-2xl sm:text-3xl font-bold">00</p>
                            </div><p class="text-gray-600 text-xs font-medium">Dakika</p>
                        </div>
                        <div class="flex items-center text-gray-400 text-xl sm:text-2xl font-bold pt-1 pb-5">:</div>
                        <div class="flex flex-col items-center gap-1.5">
                            <div class="flex h-12 w-12 sm:h-16 sm:w-16 items-center justify-center rounded-lg bg-gray-100 shadow-inner">
                                <p id="timerSeconds" class="text-gray-900 text-2xl sm:text-3xl font-bold">15</p>
                            </div><p class="text-gray-600 text-xs font-medium">Saniye</p>
                        </div>
                    </div>
                    <div class="relative rounded-2xl overflow-hidden shadow-lg aspect-[3/4] min-h-[280px] sm:min-h-[300px] max-h-[450px] sm:max-h-[500px] mx-auto w-full max-w-sm sm:max-w-md">
                        <img id="newsImage" alt="Haber Makalesi Resmi" class="absolute inset-0 h-full w-full object-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/>
                        <div class="absolute inset-0 card-gradient flex flex-col justify-end p-3 sm:p-5 space-y-1 sm:space-y-2">
                            <h2 id="newsTitle" class="text-white text-xl sm:text-2xl font-bold leading-tight drop-shadow-md">Haber Başlığı</h2>
                            <p id="newsSnippet" class="text-gray-200 text-xs sm:text-sm font-normal leading-relaxed line-clamp-3 sm:line-clamp-4 drop-shadow-sm">Haber metni...</p>
                            </div>
                    </div>
                    <div class="flex justify-around items-center pt-2 space-x-2 sm:space-x-4">
                        <button id="fakeButton" class="flex flex-col items-center justify-center size-16 sm:size-20 rounded-full fake-news-button text-white shadow-md hover:opacity-90 transition-opacity active:scale-95 btn-animated">
                            <span class="material-icons-outlined text-2xl sm:text-3xl">close</span><span class="text-xs font-semibold tracking-wide">SAHTE</span>
                        </button>
                        <button id="realButton" class="flex flex-col items-center justify-center size-16 sm:size-20 rounded-full real-news-button text-white shadow-md hover:opacity-90 transition-opacity active:scale-95 btn-animated">
                            <span class="material-icons-outlined text-2xl sm:text-3xl">check</span><span class="text-xs font-semibold tracking-wide">GERÇEK</span>
                        </button>
                    </div>
                </main>
                <nav class="sticky bottom-0 bg-white border-t border-gray-200 pb-safe z-10">
                     <div class="flex justify-around items-center h-16">
                        <a id="gameNavHome" href="#" class="flex flex-col items-center justify-center gap-0.5 text-gray-500 hover:primary-color-text transition-colors w-1/3">
                            <span class="material-icons-outlined text-2xl">cottage</span><span class="text-xs font-medium">Ana Sayfa</span>
                        </a>
                        <a id="gameNavGame" href="#" class="flex flex-col items-center justify-center gap-0.5 primary-color-text hover:primary-color-text transition-colors w-1/3">
                            <span class="material-icons-outlined text-2xl">gamepad</span><span class="text-xs font-medium">Oyun</span>
                        </a>
                        <a id="gameNavScores" href="#" class="flex flex-col items-center justify-center gap-0.5 text-gray-500 hover:primary-color-text transition-colors w-1/3">
                            <span class="material-icons-outlined text-2xl">leaderboard</span><span class="text-xs font-medium">Skorlar</span>
                        </a>
                    </div>
                </nav>
            </div>
        </div>

        <div id="howToPlayModal" class="fixed inset-0 bg-slate-800 bg-opacity-75 items-center justify-center p-4 hidden z-50">
            <div class="bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-auto feedback-content-appear">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-2xl font-bold text-slate-800 lexend-font">Nasıl Oynanır?</h3>
                    <button id="closeModalBtn" class="text-slate-500 hover:text-slate-700 btn-animated">
                        <span class="material-icons">close</span>
                    </button>
                </div><div class="text-slate-600 space-y-3 lexend-font">
                    <p>NewsSwipe çok basit!</p>
                    <p>1. Sunulan haber başlığını ve kısa bir özetini okuyun.</p>
                    <p>2. Haberin GERÇEK mi SAHTE mi olduğuna karar verin.</p>
                    <p>3. GERÇEK olduğunu düşünüyorsanız GERÇEK butonuna basın.</p>
                    <p>4. SAHTE olduğunu düşünüyorsanız SAHTE butonuna basın.</p>
                    <p>Haber okuryazarlığınızı test edin ve ne kadar yüksek puan alabileceğinizi görün!</p>
                </div>
            </div>
        </div>

        <div id="timeUpPopup" class="fixed inset-0 bg-slate-800 bg-opacity-75 items-center justify-center p-4 hidden z-40">
            <div class="bg-white rounded-lg shadow-xl p-6 sm:p-8 max-w-xs sm:max-w-sm w-full text-center feedback-content-appear">
                <span class="material-icons-outlined timeup-icon mb-4" style="font-size: 48px;">timer_off</span>
                <h3 class="text-xl sm:text-2xl font-bold text-slate-800 mb-3">Süren Doldu!</h3>
                <p class="text-slate-600 mb-6 text-sm sm:text-base">Bu soru için cevap süreniz sona erdi.</p>
                <button id="timeUpOkButton" class="w-full rounded-full h-11 px-6 bg-[#0b80ee] text-white text-lg font-semibold hover:bg-[#0968c3] transition-colors btn-animated">Tamam</button>
            </div>
        </div>

        <div id="feedbackScreen" class="main-screen-view hidden bg-slate-50 fixed inset-0 z-30 flex flex-col justify-between overflow-y-auto">
            <header class="sticky top-0 z-10 bg-white shadow-sm">
                <div class="mx-auto flex max-w-3xl items-center justify-end p-3 sm:p-4">
                    <button id="closeFeedbackBtn" class="flex items-center justify-center rounded-full text-slate-700 hover:bg-slate-100 p-2 focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 btn-animated">
                        <span class="material-icons-outlined">close</span>
                    </button>
                </div>
            </header>
            <main class="flex-grow px-4 sm:px-6 py-6 sm:py-8">
                <div class="mx-auto max-w-md text-center feedback-content-appear">
                    <div class="mb-6 sm:mb-8">
                        <span id="feedbackIcon" class="material-icons-outlined" style="font-size: 56px sm:font-size: 64px;"></span>
                        <h2 id="feedbackTitle" class="mt-3 sm:mt-4 text-2xl sm:text-3xl font-bold text-slate-800"></h2>
                    </div>
                    <div id="feedbackBox" class="rounded-lg bg-white p-5 sm:p-6 shadow-lg mb-6 sm:mb-8"> 
                        <p id="feedbackText" class="text-slate-700 text-sm sm:text-base leading-relaxed"></p>
                    </div>
                    <div id="feedbackSourceSection" class="hidden rounded-lg bg-white p-5 sm:p-6 shadow-lg text-left">
                        <h3 class="text-lg sm:text-xl font-semibold text-slate-800 mb-3">Kaynak İncelemesi</h3>
                        <a id="feedbackSourceLinkTag" class="flex items-center gap-3 text-slate-600 hover:text-blue-600 transition-colors group" href="#" target="_blank" rel="noopener noreferrer">
                            <div class="flex items-center justify-center rounded-lg bg-slate-100 group-hover:bg-blue-50 p-3 shrink-0">
                                <span class="material-icons-outlined text-slate-500 group-hover:text-blue-500">link</span>
                            </div>
                            <p id="feedbackSourceName" class="text-sm sm:text-base font-medium flex-1 truncate"></p>
                            <span class="material-icons-outlined text-slate-400 group-hover:text-blue-500 text-lg">arrow_forward_ios</span>
                        </a>
                    </div>
                </div>
            </main>
            <footer class="sticky bottom-0 bg-white border-t border-slate-200 p-4">
                <div class="mx-auto max-w-md">
                    <button id="feedbackNextButton" class="w-full flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-12 px-6 bg-[#0b80ee] text-white text-lg font-semibold leading-normal tracking-[0.015em] hover:bg-[#0968c3] transition-colors focus:outline-none focus:ring-2 focus:ring-[#0b80ee] focus:ring-offset-2 btn-animated">
                        <span class="truncate">Sonraki Soru</span>
                    </button>
                </div>
            </footer>
        </div>
        
        <div id="resultsScreen" class="main-screen-view hidden bg-slate-50 fixed inset-0 z-30 flex flex-col justify-between overflow-y-auto">
           <header class="sticky top-0 z-10 bg-white shadow-sm">
                <div class="mx-auto flex max-w-7xl items-center justify-between p-4">
                    <button id="closeResultsHeaderBtn" class="text-slate-700 hover:text-slate-900 p-2 rounded-full btn-animated">
                        <span class="material-symbols-outlined">close</span>
                    </button>
                    <h1 class="text-xl font-semibold text-slate-900">Sonuçlar</h1>
                    <div class="w-8 sm:w-10"></div>
                </div>
            </header>
            <main class="flex-1 overflow-y-auto px-6 py-8">
                <div class="mx-auto max-w-md text-center">
                    <div class="mb-8 rounded-xl bg-white p-6 shadow-lg feedback-content-appear">
                        <h2 class="text-3xl sm:text-4xl font-bold text-slate-800">Skorun: <span id="finalScoreValue" class="text-blue-600">0/0</span></h2>
                        <p class="mt-1 text-slate-600">En Yüksek Skor: <span id="highScoreDisplay" class="font-medium text-slate-700">0/0</span></p>
                        <p class="mt-2 text-slate-600">Harcanan Süre: <span id="timeTakenValue" class="font-medium text-slate-700">0 dakika 0 saniye</span></p>
                        <h4 class="text-lg font-semibold text-slate-700 mt-6 mb-2">Başarımlar</h4>
                        <div id="achievementsDisplay" class="text-sm text-green-600">
                            </div>
                    </div>
                    <div class="rounded-xl bg-white p-6 shadow-lg">
                        <div class="flex items-center justify-between mb-6">
                            <h3 class="text-2xl font-semibold text-slate-800">Liderlik Tablosu</h3>
                            <span class="material-symbols-outlined text-yellow-500 !text-3xl">emoji_events</span>
                        </div>
                        <div class="space-y-4">
                            <div class="flex items-center justify-between rounded-lg bg-slate-100 p-4 transition-all hover:bg-slate-200">
                                <div class="flex items-center gap-3"><span class="text-lg font-semibold text-slate-700">1.</span><p class="text-slate-700 font-medium">Oyuncu1 (Bot)</p></div>
                                <p class="font-semibold text-slate-700">4/4</p>
                            </div>
                             <div class="flex items-center justify-between rounded-lg bg-blue-100 p-4 text-blue-700 ring-2 ring-blue-500">
                                <div class="flex items-center gap-3"><span class="text-lg font-semibold">★</span><p id="yourLeaderboardName" class="font-medium">SEN</p></div>
                                <p id="yourLeaderboardScoreResults" class="font-semibold">0/0</p>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
            <footer class="sticky bottom-0 bg-white/80 backdrop-blur-md p-4 shadow-[0_-2px_10px_rgba(0,0,0,0.05)]">
                <div class="mx-auto flex max-w-md flex-col gap-3">
                    <button id="playAgainBtn" class="flex h-12 w-full items-center justify-center rounded-full bg-[#dce8f3] px-5 text-base font-bold text-slate-900 tracking-wide shadow-sm transition-colors hover:bg-[#c9d9e9] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#dce8f3] btn-animated">
                        <span class="material-symbols-outlined mr-2">replay</span>Tekrar Oyna
                    </button>
                    <button id="backToHomeResultsBtn" class="flex h-12 w-full items-center justify-center rounded-full bg-slate-200 px-5 text-base font-bold text-slate-700 tracking-wide shadow-sm transition-colors hover:bg-slate-300 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-400 btn-animated">
                        <span class="material-symbols-outlined mr-2">home</span>Ana Sayfaya Dön
                    </button>
                </div>
            </footer>
        </div>

    </div> <script>
    document.addEventListener('DOMContentLoaded', () => {
        // HTML Elementleri (verifySourceButton kaldırıldı)
        const homeScreenDiv = document.getElementById('homeScreen');
        const playNowButton = document.getElementById('playNowBtn');
        const howToPlayButton = document.getElementById('howToPlayBtn');
        const leaderboardBtnHome = document.getElementById('leaderboardBtnHome');
        const modal = document.getElementById('howToPlayModal');
        const closeModalButton = document.getElementById('closeModalBtn');
        
        const gameScreenDiv = document.getElementById('gameScreen');
        const closeGameButton = document.getElementById('closeGameBtn');
        const currentQuestionDisplay = document.getElementById('currentQuestionDisplay');
        const totalQuestionsDisplay = document.getElementById('totalQuestionsDisplay');
        const scoreDisplay = document.getElementById('scoreDisplay');
        const streakCounter = document.getElementById('streakCounter'); 
        const progressBar = document.getElementById('progressBar');
        const timerMinutes = document.getElementById('timerMinutes');
        const timerSeconds = document.getElementById('timerSeconds');
        const newsImage = document.getElementById('newsImage');
        const newsTitleElement = document.getElementById('newsTitle'); 
        const newsSnippet = document.getElementById('newsSnippet');
        // const verifySourceButton = document.getElementById('verifySourceButton'); // KALDIRILDI
        const fakeButton = document.getElementById('fakeButton');
        const realButton = document.getElementById('realButton');

        // Diğer elementler önceki gibi...
        const timeUpPopup = document.getElementById('timeUpPopup');
        const timeUpOkButton = document.getElementById('timeUpOkButton');
        const feedbackScreen = document.getElementById('feedbackScreen');
        const closeFeedbackBtn = document.getElementById('closeFeedbackBtn'); 
        const feedbackIcon = document.getElementById('feedbackIcon');
        const feedbackTitle = document.getElementById('feedbackTitle');
        const feedbackBox = document.getElementById('feedbackBox');
        const feedbackText = document.getElementById('feedbackText');
        const feedbackSourceSection = document.getElementById('feedbackSourceSection');
        const feedbackSourceLinkTag = document.getElementById('feedbackSourceLinkTag'); 
        const feedbackSourceName = document.getElementById('feedbackSourceName'); 
        const feedbackNextButton = document.getElementById('feedbackNextButton');
        const resultsScreen = document.getElementById('resultsScreen');
        const finalScoreValue = document.getElementById('finalScoreValue');
        const highScoreDisplay = document.getElementById('highScoreDisplay'); 
        const timeTakenValue = document.getElementById('timeTakenValue');
        const achievementsDisplay = document.getElementById('achievementsDisplay'); 
        const playAgainBtn = document.getElementById('playAgainBtn');
        const backToHomeResultsBtn = document.getElementById('backToHomeResultsBtn');
        const closeResultsHeaderBtn = document.getElementById('closeResultsHeaderBtn');
        const yourLeaderboardScoreResults = document.getElementById('yourLeaderboardScoreResults'); 
        const homeNavHome = document.getElementById('homeNavHome');
        const homeNavScores = document.getElementById('homeNavScores');
        const homeNavProfile = document.getElementById('homeNavProfile');
        const gameNavHome = document.getElementById('gameNavHome');
        const gameNavGame = document.getElementById('gameNavGame');
        const gameNavScores = document.getElementById('gameNavScores');

        const newsData = [ /* Önceki yanıttaki 7 absürt haber buraya gelecek */
            { id: 1, title: "Koca, 'Bulaşıkları Yıkamıyor' Diye Karısını ChatGPT'ye Şikayet Etti!", snippet: "Ev işleri konusunda anlaşmazlık yaşayan bir adam, eşinin bulaşıkları yıkamadığını iddia ederek durumu yapay zeka sohbet robotu ChatGPT'ye bildirdi. ChatGPT'nin çifte 'iletişim ve empati' önerdiği öğrenildi.", image: "https://images.unsplash.com/photo-1611162617213-6d22e4cf1c79?q=80&w=1000&auto=format&fit=crop", link: "#koca-karisini-chatgptye-sikayet-etti-kurgu", isReal: false, explanation: "Bu haber kurgusaldır. ChatGPT gibi yapay zeka modelleri kişisel şikayetleri işleme almaz veya hukuki bir çözüm sunmaz. Ancak, bu tür absürt durumlar mizah amaçlı sıkça üretilir ve yapay zekanın hayatımızdaki yerine dair eğlenceli bir yorumdur." },
            { id: 2, title: "Adamın Başına Uydu Anteni Düştü, Hafif Yaralandı!", snippet: "İstanbul Fatih'te yolda yürüyen bir vatandaşın başına, yakındaki bir binanın çatısından kopan uydu anteni düştü. Şans eseri hafif yaralanan adam, olayın şokunu uzun süre üzerinden atamadı.", image: "https://i.ytimg.com/vi/9bZkp7q19f0/maxresdefault.jpg", link: "https://www.hurriyet.com.tr/gundem/fatihte-yolda-yuruyen-adamin-basina-canak-anten-dustu-41703370", isReal: true, explanation: "Bu haber gerçektir. Şehirlerde, özellikle eski binalarda veya fırtınalı havalarda bu tür kazalar nadir de olsa yaşanabilmektedir. Genellikle yerel haber kaynaklarında bu tür olaylara rastlanır.", displaySourceName: "Hürriyet / Yerel Haberler", displaySourceLink: "https://www.hurriyet.com.tr/gundem/" },
            { id: 3, title: "Belediye Başkanı Adayı Kedi 'Mırmır', Vaatleriyle Gündem Yarattı!", snippet: "Yaklaşan yerel seçimler öncesinde, 'Patiler İçin Adalet Partisi' adayı kedi Mırmır, her eve sınırsız ton balığı ve günlük 18 saat uyku hakkı vaatleriyle seçmenlerin gönlünü kazandı.", image: "https://i.pinimg.com/736x/7a/7e/e6/7a7ee6a5a0399cc3d92364fd5e5def42.jpg", link: "#kedi-baskan-adayi-mirmir-kurgu", isReal: false, explanation: "Bu haber tamamen kurgusaldır ve mizah amaçlıdır. Hayvanların yasal olarak seçimlere katılması mümkün değildir. Ancak, dünyada bazı kasabalarda sembolik olarak hayvanların 'fahri belediye başkanı' seçildiği eğlenceli durumlar olmuştur." },
            { id: 4, title: "Çiftçi, Tarlasını Süren Uzaylılara Domates İkram Etti!", snippet: "Edirne'nin bir köyünde yaşayan çiftçi Mehmet Bey, gece tarlasında beliren ve ekinlerini daireler çizerek süren tanımlanamayan cisimden inen varlıklara sakin bir şekilde yaklaşıp onlara taze topladığı domateslerden ikram ettiğini iddia etti.", image: "https://i.ytimg.com/vi/Agqjwq_jFzY/maxresdefault.jpg", link: "#ciftci-uzayli-domates-kurgu", isReal: false, explanation: "Bu haber kurgusaldır. UFO ve uzaylılarla temas iddiaları sıkça gündeme gelse de, bu spesifik olay ve çiftçinin tepkisi tamamen hayal ürünüdür. Genellikle bu tür iddiaların somut kanıtları bulunmaz." },
            { id: 5, title: "Papağan, Sahibinin Banka Şifresini Tekrarlayınca Hırsızlık Çözüldü!", snippet: "Brezilya'da bir eve giren hırsız, evdeki papağanın sürekli olarak bir dizi sayıyı tekrarladığını fark etmedi. Polis, papağanın söylediği sayıların evin sahibinin çalınan banka kartının şifresi olduğunu anlayınca hırsızı kısa sürede yakaladı.", image: "https://media.istockphoto.com/id/1168256576/tr/foto%C4%9Fraf/papa%C4%9Fan-mahkemede-ifade-veriyor.jpg?s=612x612&w=0&k=20&c=x60r5s0t8I4YjZqOqXf9c7W0kQoK1PjA5jZ4qE1xY_c=", link: "https://www.reuters.com/article/us-brazil-parrot-odd-idUSKCN1S61XY", isReal: true, explanation: "Bu haber gerçektir (veya gerçek bir olaydan esinlenilmiştir). Papağanların duydukları sesleri ve kelimeleri taklit etme yetenekleri çok gelişmiştir. Geçmişte, suç olaylarının çözümüne yardımcı olan papağanlarla ilgili doğrulanmış haberler bulunmaktadır.", displaySourceName: "Reuters / Uluslararası Ajanslar", displaySourceLink: "https://www.reuters.com/" },
            { id: 6, title: "Parktaki Ördekler, Kaybolan Çocuğu Annesine 'Vaklayarak' Götürdü!", snippet: "İngiltere'de bir parkta annesinden kısa süreliğine ayrılan ve kaybolan 4 yaşındaki bir çocuk, bir grup ördeğin etrafını sarıp organize bir şekilde vaklayarak çocuğu annesinin bulunduğu yöne doğru yönlendirmesiyle bulundu.", image: "https://media.istockphoto.com/id/1313175215/tr/foto%C4%9Fraf/%C3%B6rdek-s%C3%BCr%C3%BCs%C3%BC.jpg?s=612x612&w=0&k=20&c=y4pBZYH9k_hZTA90uDkRpk9NqQ7Rk7H05vF8sL7c_jg=", link: "https://www.bbc.com/news/uk-england-northamptonshire-61382879", isReal: true, explanation: "Bu haber gerçektir (veya gerçek bir olaydan esinlenilmiştir). Hayvanların bazen beklenmedik zeka ve yardımseverlik davranışları sergilediği bilinmektedir. Bu tür iç ısıtan olaylar zaman zaman haberlere konu olur.", displaySourceName: "BBC News / Yerel Haberler", displaySourceLink: "https://www.bbc.com/news" },
            { id: 7, title: "Tarihi Eser Kaçakçısı, Heykeli 'Ağır Geldi' Diye Geri Getirdi!", snippet: "Mısır'da bir müzeden antik bir heykeli çalan acemi hırsız, heykeli taşıyamayınca birkaç sokak öteye bırakıp polise 'gelin alın, belim koptu' diye ihbarda bulundu.", image: "https://media.istockphoto.com/id/534863391/tr/foto%C4%9Fraf/stressed-man-carrying-heavy-box.jpg?s=612x612&w=0&k=20&c=9gQkXzGg9J_yJtQ_uWkS2Hw5T_Vj9vKkF_8p_l5hO3Y=", link: "https://www.theguardian.com/world/2008/dec/10/egypt-archaeology", isReal: true, explanation: "Bu haber gerçektir (veya benzerleri yaşanmıştır). Sanat eseri hırsızlıklarında bazen planların beklenmedik şekilde ters gittiği ve hırsızların komik durumlara düştüğü olaylar yaşanmıştır.", displaySourceName: "The Guardian / Uluslararası Haberler", displaySourceLink: "https://www.theguardian.com/world" }
        ];
        
        // ... (Geri kalan tüm JavaScript fonksiyonları ve event listener'lar önceki yanıttaki gibi olacak,
        // Sadece verifySourceButton ile ilgili kısımlar kaldırılmış olacak) ...

        let currentQuestionIndex = 0;
        let score = 0;
        let currentStreak = 0; 
        let timerInterval;
        let timeLeft = 15;
        const TIME_PER_QUESTION = 15;
        let gameStartTime;
        let gamePlayedAtLeastOnce = false;

        let achievements = JSON.parse(localStorage.getItem('newsSwipeAchievements_tr')) || {
            playedFirstGame: false, fiveInARow: false, scoreOver70Percent: false 
        };

        function saveAchievements() { localStorage.setItem('newsSwipeAchievements_tr', JSON.stringify(achievements)); }

        function unlockAchievement(achievementId, message) { /* ... (önceki gibi) ... */
            if (!achievements[achievementId]) {
                achievements[achievementId] = true;
                saveAchievements();
                console.log(`Başarı Kilidi Açıldı: ${message}`);
            }
         }
        
        function displayUnlockedAchievements() { /* ... (önceki gibi) ... */
            if (!achievementsDisplay) return;
            achievementsDisplay.innerHTML = ''; 
            let unlockedCount = 0;
            if (achievements.playedFirstGame) { 
                achievementsDisplay.innerHTML += '<p class="text-sm">🏅 İlk Oyun Tamamlandı!</p>'; unlockedCount++;
            }
            if (achievements.fiveInARow) { 
                achievementsDisplay.innerHTML += '<p class="text-sm">🔥 Seri Uzmanı (5 Doğru)!</p>'; unlockedCount++;
            }
            if (achievements.scoreOver70Percent) { 
                achievementsDisplay.innerHTML += '<p class="text-sm">🏆 Yüksek Skorlu Oyuncu!</p>'; unlockedCount++;
            }
            if(unlockedCount === 0){ achievementsDisplay.innerHTML = '<p class="text-sm text-slate-500">Henüz bir başarım kazanmadın.</p>'; }
        }

        function updateActiveNav(activeScreenId) { /* ... (önceki gibi) ... */
            const navLinks = [
                { el: homeNavHome, id: 'homeScreen' }, { el: homeNavScores, id: 'resultsScreen' }, { el: homeNavProfile, id: 'profileScreen' },
                { el: gameNavHome, id: 'homeScreen' }, { el: gameNavGame, id: 'gameScreen' }, { el: gameNavScores, id: 'resultsScreen' }
            ];
            navLinks.forEach(item => {
                if (item.el) {
                    if (item.id === activeScreenId) { item.el.classList.add('nav-item-active'); } 
                    else { item.el.classList.remove('nav-item-active'); }
                }
            });
            if (activeScreenId === 'homeScreen' && homeNavHome) homeNavHome.classList.add('nav-item-active');
            else if (homeNavHome) homeNavHome.classList.remove('nav-item-active');
            if (activeScreenId === 'gameScreen' && gameNavGame) gameNavGame.classList.add('nav-item-active');
            else if (gameNavGame) gameNavGame.classList.remove('nav-item-active');
            if (activeScreenId === 'resultsScreen') { 
                 if(homeNavScores) homeNavScores.classList.add('nav-item-active');
                 if(gameNavScores) gameNavScores.classList.add('nav-item-active');
            } else {
                 if(homeNavScores) homeNavScores.classList.remove('nav-item-active');
                 if(gameNavScores) gameNavScores.classList.remove('nav-item-active');
            }
        }

        function showScreen(screenToShow) { /* ... (önceki gibi) ... */
            const allScreens = [homeScreenDiv, gameScreenDiv, feedbackScreen, resultsScreen];
            const allPopups = [timeUpPopup, modal];
            allScreens.forEach(s => { if (s) { s.classList.add('hidden'); s.classList.remove('flex'); }});
            allPopups.forEach(p => { if (p) { p.classList.add('hidden'); p.classList.remove('flex'); }});
            if (screenToShow) {
                 screenToShow.classList.remove('hidden');
                 if (allScreens.includes(screenToShow) || allPopups.includes(screenToShow)) { screenToShow.classList.add('flex');}
                 if (allScreens.includes(screenToShow)) { updateActiveNav(screenToShow.id); }
            } else { updateActiveNav(null); }
            if (!allPopups.includes(screenToShow) && screenToShow !== modal) { window.scrollTo(0,0); }
        }
        
        function updateUIForNewQuestion() {
            if (!newsData || newsData.length === 0 || !newsImage || !newsTitleElement || !newsSnippet  || !currentQuestionDisplay || !progressBar || !fakeButton || !realButton || !streakCounter || !timerSeconds || !totalQuestionsDisplay) return; // verifySourceButton kaldırıldı
            if (currentQuestionIndex >= newsData.length) { endGame(); return; }
            
            const question = newsData[currentQuestionIndex];
            newsImage.src = question.image;
            newsTitleElement.textContent = question.title;
            newsSnippet.textContent = question.snippet;
            // verifySourceButton.dataset.link = question.link; // KALDIRILDI
            currentQuestionDisplay.textContent = currentQuestionIndex + 1;
            totalQuestionsDisplay.textContent = newsData.length;
            streakCounter.textContent = currentStreak; 
            const progress = ((currentQuestionIndex) / newsData.length) * 100;
            progressBar.style.width = `${progress}%`;
            fakeButton.classList.remove('news-button-disabled');
            realButton.classList.remove('news-button-disabled');
            timerSeconds.classList.remove('timer-pulse'); 
        }

        function startTimer() { /* ... (önceki gibi) ... */ 
            if (!timerSeconds || !timerMinutes) return;
            timeLeft = TIME_PER_QUESTION;
            timerSeconds.textContent = timeLeft < 10 ? `0${timeLeft}` : timeLeft;
            timerMinutes.textContent = "00";
            timerSeconds.classList.remove('timer-pulse');
            clearInterval(timerInterval);
            timerInterval = setInterval(() => {
                timeLeft--;
                timerSeconds.textContent = timeLeft < 10 ? `0${timeLeft}` : timeLeft;
                if (timeLeft <= 5 && timeLeft > 0) { timerSeconds.classList.add('timer-pulse'); } 
                else { timerSeconds.classList.remove('timer-pulse'); }
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    timerSeconds.classList.remove('timer-pulse');
                    showTimeUpPopup();
                }
            }, 1000);
        }

        function showTimeUpPopup() { /* ... (önceki gibi) ... */
            if (!fakeButton || !realButton || !timeUpPopup) return;
            fakeButton.classList.add('news-button-disabled'); 
            realButton.classList.add('news-button-disabled');
            showScreen(timeUpPopup);
        }

        if(timeUpOkButton) { timeUpOkButton.addEventListener('click', () => { handleAnswer(null); }); }
        
        function handleAnswer(userChoiceIsReal) { /* ... (önceki gibi) ... */
            if (!fakeButton || !realButton || !scoreDisplay || !feedbackTitle || !feedbackIcon || !feedbackBox || !feedbackText || !feedbackSourceSection || !feedbackSourceName || !feedbackSourceLinkTag || !streakCounter || !timerSeconds) return;
            clearInterval(timerInterval);
            timerSeconds.classList.remove('timer-pulse');
            fakeButton.classList.add('news-button-disabled');
            realButton.classList.add('news-button-disabled');
            const currentQuestion = newsData[currentQuestionIndex];
            const wasCorrect = userChoiceIsReal === currentQuestion.isReal;
            if (userChoiceIsReal !== null && wasCorrect) {
                score++; currentStreak++;
                if (currentStreak === 5) { unlockAchievement('fiveInARow', "Harika Seri! (5 doğru)"); }
            } else if (userChoiceIsReal !== null && !wasCorrect) { currentStreak = 0; }
            if(userChoiceIsReal === null){ currentStreak = 0; }
            scoreDisplay.textContent = score;
            streakCounter.textContent = currentStreak;
            feedbackIcon.className = "material-icons-outlined feedback-content-appear"; 
            feedbackBox.className = "rounded-lg bg-white p-5 sm:p-6 shadow-lg mb-6 sm:mb-8 feedback-content-appear"; 
            feedbackTitle.classList.add("feedback-content-appear");
            feedbackSourceSection.classList.add('hidden');
            let feedbackStr = "";
            if (userChoiceIsReal === null) {
                feedbackTitle.textContent = "Süre Bitti!";
                feedbackIcon.textContent = "timer_off";
                feedbackIcon.classList.add('timeup-icon');
                feedbackBox.classList.add('incorrect-feedback'); 
                feedbackStr = `Bu soru için süreniz doldu. Doğru cevap: <strong>${currentQuestion.isReal ? 'GERÇEK' : 'SAHTE'}</strong> idi.<br><br>${currentQuestion.explanation || ''}`;
                if (currentQuestion.isReal && currentQuestion.displaySourceName && currentQuestion.displaySourceLink) {
                    feedbackSourceName.textContent = currentQuestion.displaySourceName;
                    feedbackSourceLinkTag.href = currentQuestion.displaySourceLink;
                    feedbackSourceSection.classList.remove('hidden');
                }
            } else if (wasCorrect) {
                feedbackTitle.textContent = "Bildin!";
                feedbackIcon.textContent = "check_circle";
                feedbackIcon.classList.add('status-icon-correct');
                feedbackBox.classList.add('correct-feedback');
                feedbackStr = currentQuestion.explanation || (currentQuestion.isReal ? "Bu haber gerçekten doğru." : "Bu haberin sahte olduğunu doğru tespit ettin.");
            } else { 
                feedbackTitle.textContent = "Tekrar dene!";
                feedbackIcon.textContent = "cancel";
                feedbackIcon.classList.add('status-icon-incorrect');
                feedbackBox.classList.add('incorrect-feedback');
                feedbackStr = `Doğru cevap <strong>${currentQuestion.isReal ? 'GERÇEK' : 'SAHTE'}</strong> olmalıydı.<br><br>${currentQuestion.explanation || ''}`;
                if (currentQuestion.displaySourceName && currentQuestion.displaySourceLink) {
                    feedbackSourceName.textContent = currentQuestion.displaySourceName;
                    feedbackSourceLinkTag.href = currentQuestion.displaySourceLink;
                    feedbackSourceSection.classList.remove('hidden');
                }
            }
            feedbackText.innerHTML = feedbackStr; 
            if (currentQuestionIndex >= newsData.length - 1) { feedbackNextButton.textContent = "Sonuçları Gör"; } 
            else { feedbackNextButton.textContent = "Sonraki Soru"; }
            showScreen(feedbackScreen);
        }

        function proceedToNextStep() { /* ... (önceki gibi) ... */ 
            if (!progressBar) return;
            currentQuestionIndex++;
            const progressAfterAnswer = (currentQuestionIndex / newsData.length) * 100;
            progressBar.style.width = `${progressAfterAnswer}%`;
            if (currentQuestionIndex < newsData.length) {
                showScreen(gameScreenDiv);
                updateUIForNewQuestion();
                startTimer();
            } else { endGame(); }
        }

        if(feedbackNextButton) feedbackNextButton.addEventListener('click', proceedToNextStep);
        if(closeFeedbackBtn) closeFeedbackBtn.addEventListener('click', proceedToNextStep);

        function startGame() { /* ... (önceki gibi) ... */
            if (!scoreDisplay || !totalQuestionsDisplay || !progressBar || !streakCounter) return;
            gameStartTime = Date.now(); currentQuestionIndex = 0; score = 0; currentStreak = 0;
            scoreDisplay.textContent = score; streakCounter.textContent = currentStreak;
            totalQuestionsDisplay.textContent = newsData.length; progressBar.style.width = '0%';
            unlockAchievement('playedFirstGame', "İlk Oyun!");
            showScreen(gameScreenDiv); updateUIForNewQuestion(); startTimer();
         }

        function endGame() { /* ... (önceki gibi) ... */
            if (!timeTakenValue || !finalScoreValue || !yourLeaderboardScoreResults || !highScoreDisplay) return;
            gamePlayedAtLeastOnce = true; clearInterval(timerInterval); 
            if(timerSeconds) timerSeconds.classList.remove('timer-pulse');
            const gameEndTime = Date.now(); const timeDiff = gameEndTime - gameStartTime;
            const minutes = Math.floor(timeDiff / 60000); const seconds = Math.floor((timeDiff % 60000) / 1000);
            timeTakenValue.textContent = `${minutes} dakika ${seconds} saniye`;
            finalScoreValue.textContent = `${score}/${newsData.length}`;
            yourLeaderboardScoreResults.textContent = `${score}/${newsData.length}`;
            let highScore = parseInt(localStorage.getItem('newsSwipeHighScore_tr')) || 0;
            if (score > highScore) { highScore = score; localStorage.setItem('newsSwipeHighScore_tr', highScore); }
            highScoreDisplay.textContent = `${highScore}/${newsData.length}`; 
            if (newsData.length > 0 && score / newsData.length >= 0.7) { unlockAchievement('scoreOver70Percent', "Yüksek Skorlu Oyuncu!"); }
            displayUnlockedAchievements(); showScreen(resultsScreen);
        }
        
        function resetGame() { /* ... (önceki gibi) ... */ clearInterval(timerInterval); if(timerSeconds) timerSeconds.classList.remove('timer-pulse');}
        
        function navigateToHome() { /* ... (önceki gibi) ... */ resetGame(); showScreen(homeScreenDiv); }

        function navigateToResults() { /* ... (önceki gibi) ... */
            if (!resultsScreen || !finalScoreValue || !timeTakenValue || !yourLeaderboardScoreResults || !highScoreDisplay) return;
             if (!gamePlayedAtLeastOnce) {
                const wantsToPlay = confirm("Henüz hiç oyun oynamadınız. Skorları görmek yerine oyuna başlamak ister misiniz?");
                if (wantsToPlay) { startGame(); } 
                else {
                    finalScoreValue.textContent = `0/${newsData.length}`; timeTakenValue.textContent = `Oyun Oynanmadı`;
                    yourLeaderboardScoreResults.textContent = `0/${newsData.length}`;
                    highScoreDisplay.textContent = (localStorage.getItem('newsSwipeHighScore_tr') || 0) + `/${newsData.length}`;
                    displayUnlockedAchievements(); showScreen(resultsScreen);
                }
            } else { 
                if(currentQuestionIndex < newsData.length && gameScreenDiv.classList.contains('hidden') === false && typeof timerInterval !== 'undefined'){ 
                     const wantsToEnd = confirm("Devam eden bir oyununuz var. Oyunu bitirip sonuçları görmek istediğinize emin misiniz?");
                     if(wantsToEnd) endGame(); else return; 
                } else if(gamePlayedAtLeastOnce === false){ 
                    finalScoreValue.textContent = `0/${newsData.length}`; timeTakenValue.textContent = `Oyun Oynanmadı`;
                    yourLeaderboardScoreResults.textContent = `0/${newsData.length}`;
                    highScoreDisplay.textContent = (localStorage.getItem('newsSwipeHighScore_tr') || 0) + `/${newsData.length}`;
                    displayUnlockedAchievements(); showScreen(resultsScreen);
                } else { 
                    finalScoreValue.textContent = `${score}/${newsData.length}`; 
                    if(gameStartTime && typeof gameEndTime !== 'undefined' && gameEndTime >= gameStartTime){ // gameEndTime'ın tanımlı olup olmadığını kontrol et
                         const timeDiffCheck = gameEndTime - gameStartTime; 
                         const minutesCheck = Math.floor(timeDiffCheck / 60000);
                         const secondsCheck = Math.floor((timeDiffCheck % 60000) / 1000);
                         timeTakenValue.textContent = `${minutesCheck} dakika ${secondsCheck} saniye`;
                    } else if (!gamePlayedAtLeastOnce) { timeTakenValue.textContent = `Oyun Oynanmadı`; }
                     else { timeTakenValue.textContent = `Süre bilgisi yok`;} 
                    yourLeaderboardScoreResults.textContent = `${score}/${newsData.length}`;
                    highScoreDisplay.textContent = (localStorage.getItem('newsSwipeHighScore_tr') || 0) + `/${newsData.length}`;
                    displayUnlockedAchievements(); showScreen(resultsScreen);
                }
            }
        }

        // "Nasıl Oynanır?" Modal Event Listeners
        if (howToPlayButton && modal && closeModalButton) {
            howToPlayButton.addEventListener('click', () => {
                if (modal) { modal.classList.remove('hidden'); modal.classList.add('flex'); }
            });
            const closeHowToPlayModalAndGoHome = () => {
                if (modal) { modal.classList.add('hidden'); modal.classList.remove('flex'); }
                navigateToHome(); 
            };
            closeModalButton.addEventListener('click', closeHowToPlayModalAndGoHome);
            modal.addEventListener('click', (event) => {
                if (event.target === modal) { closeHowToPlayModalAndGoHome(); }
            });
        } else { console.error("Modal ('Nasıl Oynanır') elementleri bulunamadı."); }

        // Diğer Event Listeners
        if (playNowButton) { playNowButton.addEventListener('click', startGame); } 
        else { console.error('Hemen Oyna butonu (playNowBtn) bulunamadı!'); }

        if (closeGameButton) { closeGameButton.addEventListener('click', navigateToHome); } 
        else { console.error('Oyun Kapatma butonu (closeGameBtn) bulunamadı!'); }
        
        if (fakeButton && realButton) {
            fakeButton.addEventListener('click', () => handleAnswer(false));
            realButton.addEventListener('click', () => handleAnswer(true));
        } else { console.error("SAHTE veya GERÇEK butonları bulunamadı."); }

        // verifySourceButton ile ilgili event listener ve console.error kaldırıldı.
        
        if(playAgainBtn) playAgainBtn.addEventListener('click', startGame);
        if(backToHomeResultsBtn) backToHomeResultsBtn.addEventListener('click', navigateToHome);
        if(closeResultsHeaderBtn) closeResultsHeaderBtn.addEventListener('click', navigateToHome);

        if(homeNavHome) homeNavHome.addEventListener('click', (e) => { e.preventDefault(); navigateToHome();});
        if(homeNavScores) homeNavScores.addEventListener('click', (e) => { e.preventDefault(); navigateToResults();});
        if(leaderboardBtnHome) leaderboardBtnHome.addEventListener('click', (e) => { e.preventDefault(); navigateToResults();});

        if(gameNavHome) gameNavHome.addEventListener('click', (e) => { e.preventDefault(); navigateToHome();});
        if(gameNavScores) gameNavScores.addEventListener('click', (e) => { e.preventDefault(); navigateToResults();});
        
        displayUnlockedAchievements(); 
        showScreen(homeScreenDiv); 
    });
    </script>
</body>
</html>
